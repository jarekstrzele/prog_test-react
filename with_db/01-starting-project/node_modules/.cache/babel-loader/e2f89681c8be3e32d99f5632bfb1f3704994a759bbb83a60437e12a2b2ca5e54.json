{"ast":null,"code":"\"use strict\";\n\n// https://w3c.github.io/html-aria/#document-conformance-requirements-for-use-of-aria-attributes-in-html\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction getRole(element) {\n  const explicitRole = getExplicitRole(element);\n  if (explicitRole !== null) {\n    return explicitRole;\n  }\n  return getImplicitRole(element);\n}\nexports.default = getRole;\nconst tagToRoleMappings = {\n  ARTICLE: \"article\",\n  ASIDE: \"complementary\",\n  BODY: \"document\",\n  BUTTON: \"button\",\n  DATALIST: \"listbox\",\n  DD: \"definition\",\n  DETAILS: \"group\",\n  DIALOG: \"dialog\",\n  DT: \"term\",\n  FIELDSET: \"group\",\n  FIGURE: \"figure\",\n  // WARNING: Only with an accessible name\n  FORM: \"form\",\n  FOOTER: \"contentinfo\",\n  H1: \"heading\",\n  H2: \"heading\",\n  H3: \"heading\",\n  H4: \"heading\",\n  H5: \"heading\",\n  H6: \"heading\",\n  HEADER: \"banner\",\n  HR: \"separator\",\n  LEGEND: \"legend\",\n  LI: \"listitem\",\n  MATH: \"math\",\n  MAIN: \"main\",\n  MENU: \"list\",\n  NAV: \"navigation\",\n  OL: \"list\",\n  OPTGROUP: \"group\",\n  // WARNING: Only in certain context\n  OPTION: \"option\",\n  OUTPUT: \"status\",\n  PROGRESS: \"progressbar\",\n  // WARNING: Only with an accessible name\n  SECTION: \"region\",\n  SUMMARY: \"button\",\n  TABLE: \"table\",\n  TBODY: \"rowgroup\",\n  TEXTAREA: \"textbox\",\n  TFOOT: \"rowgroup\",\n  // WARNING: Only in certain context\n  TD: \"cell\",\n  TH: \"columnheader\",\n  THEAD: \"rowgroup\",\n  TR: \"row\",\n  UL: \"list\"\n};\nfunction getImplicitRole(element) {\n  const mappedByTag = tagToRoleMappings[element.tagName];\n  if (mappedByTag !== undefined) {\n    return mappedByTag;\n  }\n  switch (element.tagName) {\n    case \"A\":\n    case \"AREA\":\n    case \"LINK\":\n      if (element.hasAttribute(\"href\")) {\n        return \"link\";\n      }\n      break;\n    case \"IMG\":\n      if ((element.getAttribute(\"alt\") || \"\").length > 0) {\n        return \"img\";\n      }\n      break;\n    case \"INPUT\":\n      {\n        const {\n          type\n        } = element;\n        switch (type) {\n          case \"button\":\n          case \"image\":\n          case \"reset\":\n          case \"submit\":\n            return \"button\";\n          case \"checkbox\":\n          case \"radio\":\n            return type;\n          case \"range\":\n            return \"slider\";\n          case \"email\":\n          case \"tel\":\n          case \"text\":\n          case \"url\":\n            if (element.hasAttribute(\"list\")) {\n              return \"combobox\";\n            }\n            return \"textbox\";\n          case \"search\":\n            if (element.hasAttribute(\"list\")) {\n              return \"combobox\";\n            }\n            return \"searchbox\";\n          default:\n            return null;\n        }\n      }\n    case \"SELECT\":\n      if (element.hasAttribute(\"multiple\") || element.size > 1) {\n        return \"listbox\";\n      }\n      return \"combobox\";\n  }\n  return null;\n}\nfunction getExplicitRole(element) {\n  if (element.hasAttribute(\"role\")) {\n    // safe due to hasAttribute check\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const [explicitRole] = element.getAttribute(\"role\").trim().split(\" \");\n    if (explicitRole !== undefined && explicitRole.length > 0) {\n      return explicitRole;\n    }\n  }\n  return null;\n}","map":{"version":3,"mappings":"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","names":["getRole","element","explicitRole","getExplicitRole","getImplicitRole","exports","tagToRoleMappings","ARTICLE","ASIDE","BODY","BUTTON","DATALIST","DD","DETAILS","DIALOG","DT","FIELDSET","FIGURE","FORM","FOOTER","H1","H2","H3","H4","H5","H6","HEADER","HR","LEGEND","LI","MATH","MAIN","MENU","NAV","OL","OPTGROUP","OPTION","OUTPUT","PROGRESS","SECTION","SUMMARY","TABLE","TBODY","TEXTAREA","TFOOT","TD","TH","THEAD","TR","UL","mappedByTag","tagName","undefined","hasAttribute","getAttribute","length","type","size","trim","split"],"sources":["../sources/getRole.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script","externalDependencies":[]}